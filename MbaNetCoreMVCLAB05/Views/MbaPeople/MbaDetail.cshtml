@model MbaNetCoreMVCLAB05.Models.MbaPeople

@{
    ViewData["Title"] = "MbaDetails";
}

<h1>MbaDetails</h1>

<div>
    <h4>MbaPeople</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaID)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MbaID)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MbaName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaEmail)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MbaEmail)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaPhone)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MbaPhone)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaAddress)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MbaAddress)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaAvatar)
        </dt>
        <dd class="col-sm-10">
            @if (!string.IsNullOrEmpty(Model.MbaAvatar))
            {
                var baseUrl = "https://localhost:7187"; // Domain cơ bản
                var correctedPath = Model.MbaAvatar.Replace("/MbaPeople/MbaDetails", "").TrimStart('/'); // Loại bỏ phần không cần thiết và chuẩn hóa
                var finalUrl = $"{baseUrl}/{correctedPath}"; // Tạo đường dẫn hoàn chỉnh
                                                             <img src="@finalUrl" alt="Avatar of @(Model.MbaName ?? "user")" style="width:4rem" />
            }
            else
            {
                <span>No avatar available</span>
            }
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaBirthday)
        </dt>
        <dd class="col-sm-10">
            @(Model.MbaBirthday != DateTime.MinValue ? Model.MbaBirthday.ToString("dd/MM/yyyy") : "Not specified")
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MbaGender)
        </dt>
        <dd class="col-sm-10">
            @if (Model.MbaGender == 0)
            {
                <span>Nam</span>
            }
            else if (Model.MbaGender == 1)
            {
                <span>Nữ</span>
            }
            else
            {
                <span>Khác</span>
            }
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("MbaEdit", "MbaEdit", new { /* id = Model.MbaID */ }) |
    <a asp-action="MbaIndex">Back to List</a>
</div>
